(ns test.zera.collections)
(load-file "src/zera/test.zera")
(refer 'zera.test)

; lists
(is (= (cons 1 nil) (cons 1 '())))
(is (= (cons 1 nil) (list 1)))
(is (= (cons 1 nil) '(1)))
(is (= (cons 1 (cons 2 (cons 3 '()))) '(1 2 3)))
(is (seq? '()))
(is (seq? (range 10)))
(is (seq? (map inc (range 10))))
(is (seqable? '()))

(is (= (count '()) 0))
(is (= (count '(1)) 1))
(is (= (count '(1 2)) 2))

(is (= (next '()) nil))
(is (= (next '(1)) nil))
(is (= (next '(1 2)) '(2)))
(is (= (next '(1 2 3)) '(2 3)))

(is (= (rest '()) '()))
(is (= (rest '(1)) '()))
(is (= (rest '(1 2)) '(2)))
(is (= (rest '(1 2 3)) '(2 3)))
(is (not= (rest '(1 2 3)) '(1 3)))

(is (= (first '()) nil))
(is (= (first '(1)) 1))
(is (= (first '(1 2)) 1))

; vectors
(is (= (conj [] 1) [1]))
(is (= (conj [2] 1) [2 1])) 
(is (not (seq? [])))
(is (seqable? []))

; maps
(is (= {:a 1 :b 2} {:b 2 :a 1}))
(is (= {:a 1 :b 2 :c 3} {:b 2 :a 1 :c 3}))
(is (= (conj {} [:a 1]) {:a 1}))
(is (= (conj {:a 1} [:b 2]) {:a 1 :b 2}))
(is (not (seq? {})))
(is (seqable? {}))

; sets
(is (= #{1 2} #{2 1}))
(is (= #{1 2 3} #{2 1 3}))
(is (= (conj #{} 1) #{1}))
(is (= (conj #{1} 2) #{2 1}))
(is (not (seq? #{})))
(is (seqable? #{}))
